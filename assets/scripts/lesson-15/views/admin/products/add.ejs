<%- include('../../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/product.css">
</head>

<body>

<%- include('../../includes/navigation.ejs') %>

<main>
    <%- include('../../includes/alert.ejs') %>

    <form class="product-form" action="/admin/products/store" method="POST" novalidate>
        <input type="hidden" name="_csrf" value="<%= csrf_token %>">
        
        <div class="form-control">
            <label for="product-title">Title</label>
            <input 
                type="text" 
                name="title" 
                class="<%= error_message.find(e => e.param === 'title') ? 'invalid' : '' %>"
                id="product-title"
                value="<%= old_input.title %>">
        </div>
        
        <div class="form-control">
            <label for="product-image-url">Image</label>
            <input 
                type="text" 
                name="image_url" 
                class="<%= error_message.find(e => e.param === 'image_url') ? 'invalid' : '' %>"
                id="product-image-url"
                value="<%= old_input.image_url %>">
        </div>
    
        <div class="form-control">
            <label for="product-price">Price Per Unit</label>
            <input 
                type="number" 
                name="price" 
                class="<%= error_message.find(e => e.param === 'price') ? 'invalid' : '' %>"
                id="product-price" 
                min="1" 
                step="0.01"
                value="<%= old_input.price %>">
        </div>
    
        <div class="form-control">
            <label for="product-description">Description</label>
            <textarea 
                name="description" 
                class="<%= error_message.find(e => e.param === 'description') ? 'invalid' : '' %>"
                id="product-description" 
                rows="5">
                <%= old_input.description %>
            </textarea>
        </div>
    
        <button class="btn" type="submit">Add Product</button>
    </form>
</main>

<%- include('../../includes/end.ejs') %>